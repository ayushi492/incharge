
<style>
    .topbox{
        max-width: 253px;
        margin: auto;

    }

    .pcoded-content{
        padding: 16px !important;
    }

    .w100{
        width:100%;
    }

    .card{
        box-shadow: 1px 1px 5px #d4d4d4 !important;
        border-radius: 0;
        margin-bottom: 14px !important;

    }

    .grybox{
        background-color:#fff !important;
    }



</style>

<link rel="stylesheet" href="assets/css/azia.css">
<div class="pcoded-main-container">
    <div class="pcoded-wrapper">
        <div class="pcoded-content">
            <div class="pcoded-inner-content">
                <div class="main-body">
                    <div class="page-wrapper" style="
    min-width: 1053px;
">
                        <div class="row row-sm" style="margin-top: 28px;">
                            <div class="col-sm-6 col-xl-3" >
                                <div class="card card-dashboard-twentytwo" style="        background: url(assets/images/box1bg.png);
       background-repeat: no-repeat;
    background-position: bottom center;">
                                    <div class="media">
                                        <div class="media-icon"><img src="assets/images/box1icon.png" alt="" class=""></div>
                                        <div class="media-body">
                                            <h6 id="avcount">0<!--<small class="down">-1</small>--></h6>
<!--                                            <span>In Use/Occupied charger</span>-->
                                            <span>Available</span>
                                        </div>
                                    </div>
                                    <div class="chart-wrapper">
                                        <div id="flotChart1" class="flot-chart" style="padding: 0px; position: relative;"><canvas class="flot-base" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas><canvas class="flot-overlay" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas></div>
                                    </div><!-- chart-wrapper -->
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-3">
                                <div class="card card-dashboard-twentytwo" style="        background: url(assets/images/box2bg.png);
       background-repeat: no-repeat;
    background-position: bottom center;">
                                    <div class="media">
                                        <div class="media-icon"><img src="assets/images/box2icon.png" alt="" class=""></div>
                                        <div class="media-body">
                                            <h6 id="uncount">0<!--<small class="down">-1</small>--></h6>
                                            <span>Unavailable</span>
                                        </div>
                                    </div>
                                    <div class="chart-wrapper">
                                        <div id="flotChart1" class="flot-chart" style="padding: 0px; position: relative;"><canvas class="flot-base" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas><canvas class="flot-overlay" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas></div>
                                    </div><!-- chart-wrapper -->
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-3">
                                <div class="card card-dashboard-twentytwo" style="        background: url(assets/images/box4bg.png);
       background-repeat: no-repeat;
    background-position: bottom center;">
                                    <div class="media">
                                        <div class="media-icon"><img src="assets/images/box4icon.png" alt="" class=""></div>
                                        <div class="media-body">
                                            <h6 id="chcount">0<!--<span style="font-size:12px;">Hrs</span><small class="down">-1</small>--></h6>
<!--                                            <span>Charger uptime </span>-->
                                            <span>Charging</span>
                                        </div>
                                    </div>
                                    <div class="chart-wrapper">
                                        <div id="flotChart1" class="flot-chart" style="padding: 0px; position: relative;"><canvas class="flot-base" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas><canvas class="flot-overlay" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas></div>
                                    </div><!-- chart-wrapper -->
                                </div>
                            </div>
                            <div class="col-sm-6 col-xl-3">
                                <div class="card card-dashboard-twentytwo" style="        background: url(assets/images/box3bg.png);
       background-repeat: no-repeat;
    background-position: bottom center;">
                                    <div class="media">
                                        <div class="media-icon"><img src="assets/images/box3icon.png" alt="" class=""></div>
                                        <div class="media-body">
                                            <h6 id="faucount">0<!--<small class="down">-1</small>--></h6>
                                            <span>Faulty</span>
                                        </div>
                                    </div>
                                    <div class="chart-wrapper">
                                        <div id="flotChart1" class="flot-chart" style="padding: 0px; position: relative;"><canvas class="flot-base" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas><canvas class="flot-overlay" width="270" height="120" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 270.5px; height: 120px;"></canvas></div>
                                    </div><!-- chart-wrapper -->
                                </div>
                            </div>
                            <div class="col-xl-9 mg-t-20" style="padding-right: 0;">
                                <div class="card grybox ">
                                    <img src="assets/images/box5.png" class="w100 " style="max-width:799px;margin:auto;width:799px;">


                                </div>
                            </div>
                            <div class="col-xl-3 mg-t-20" style="">
                                <div class="card grybox">
                                    <img src="assets/images/box6.png" class="w100" style="max-width:251px;margin:auto;width:251px;">


                                </div>



                            </div>

                            <div class="col-xl-6 mg-t-20" style="">
                                <div class="card grybox" >
                                    <img src="assets/images/box7.png" class="w100" style="max-width:523px;margin:auto;width:523px;">


                                </div>



                            </div>
                            <div class="col-xl-6 mg-t-20" style="padding-right: 5px;" >
                                <div class="card grybox" style="background:url(assets/images/mapbg.png) no-repeat center ; border:solid 5px #fff;">

                                    <img src="assets/images/blank.png" class="w100" style="max-width:523px;margin:auto;width:523px;">


                                </div>



                            </div>


                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>
    function fetchdata(){
        $.ajax({
            url: 'getcharger_count.php',
            type: 'post',
            dataType: 'JSON',
            success: function(response){
                // Perform operation on the return value
                var len = response.length;
                for(var i=0; i<len; i++) {
                    var id = response[i].count;
                    var status= response[i].status;
                     if (status == 'Available') {
                        document.getElementById('avcount').innerHTML=id;
                    }
                    else if(status=='Unavailable')
                    {
                        document.getElementById('uncount').innerHTML=id;
                    }
                    else if(status=='Faulted')
                    {
                        document.getElementById('faucount').innerHTML=id;
                    }
                    else if(status=='Charging')
                    {
                        document.getElementById('chcount').innerHTML=id;
                    }
                }
            }
        });
    }

    $(document).ready(function(){
        setInterval(fetchdata,1000);
    });
</script>
